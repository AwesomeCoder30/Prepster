<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" type="image/png" href="../../public/images/logo.png">
    <title>Prepster AI Beta Testing Program</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Playfair+Display:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            box-sizing: border-box;
        }
        
        body {
            background: #f0fdf4;
            font-family: 'Inter', sans-serif;
            overflow-x: hidden;
            position: relative;
            min-height: 100vh;
        }
        
        .glass {
            background: rgba(255, 255, 255, 0.12);
            backdrop-filter: blur(20px);
            border: 1px solid #bbf7d0;
        }
        
        .floating {
            animation: float 6s ease-in-out infinite;
        }
        
        @keyframes float {
            0%,
            100% {
                transform: translateY(0px);
            }
            50% {
                transform: translateY(-15px);
            }
        }
        
        .fade-in {
            animation: fadeIn 0.8s ease-out forwards;
            opacity: 0;
        }
        
        @keyframes fadeIn {
            to {
                opacity: 1;
            }
        }
        
        .slide-up {
            animation: slideUp 0.8s ease-out forwards;
            transform: translateY(30px);
            opacity: 0;
        }
        
        @keyframes slideUp {
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }
        
        .pulse-slow {
            animation: pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }
        
        .gradient-text {
            background: linear-gradient(90deg, #22c55e, #16a34a, #a3e635, #facc15);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            background-size: 300% 300%;
            animation: gradientShift 4s ease infinite;
        }
        
        @keyframes gradientShift {
            0%,
            100% {
                background-position: 0% 50%;
            }
            50% {
                background-position: 100% 50%;
            }
        }
        
        .ai-glow {
            box-shadow: 0 0 30px rgba(168, 85, 247, 0.4);
            animation: aiPulse 3s ease-in-out infinite;
        }
        
        @keyframes aiPulse {
            0%,
            100% {
                box-shadow: 0 0 30px rgba(168, 85, 247, 0.4);
            }
            50% {
                box-shadow: 0 0 50px rgba(168, 85, 247, 0.7);
            }
        }
        
        .form-field {
            transition: all 0.3s ease;
            position: relative;
        }
        
        .form-field:focus-within {
            transform: translateY(-2px);
        }
        
        .form-field input,
        .form-field textarea,
        .form-field select {
            transition: all 0.3s ease;
        }
        
        .form-field input:focus,
        .form-field textarea:focus,
        .form-field select:focus {
            box-shadow: 0 0 0 3px rgba(34, 197, 94, 0.3);
            border-color: #22c55e;
        }
        
        .btn-primary,
        .cta-green {
            background: linear-gradient(90deg, #22c55e, #16a34a, #a3e635, #facc15);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .btn-primary::before,
        .cta-green::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            transition: left 0.5s;
        }
        
        .btn-primary:hover::before,
        .cta-green:hover::before {
            left: 100%;
        }
        
        .btn-primary:hover,
        .cta-green:hover {
            background: linear-gradient(90deg, #16a34a, #22c55e, #facc15);
            transform: translateY(-2px);
            box-shadow: 0 15px 35px rgba(34, 197, 94, 0.2);
        }
        
        .feature-card {
            transition: all 0.3s ease;
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }
        
        .feature-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            transition: left 0.5s;
        }
        
        .feature-card:hover::before {
            left: 100%;
        }
        
        .feature-card:hover {
            transform: translateY(-5px) scale(1.02);
            box-shadow: 0 20px 40px rgba(168, 85, 247, 0.3);
        }
        
        .progress-bar {
            width: 0%;
            transition: width 0.3s ease;
        }
        
        #particles {
            position: fixed;
            inset: 0;
            pointer-events: none;
            z-index: 0;
        }
        
        .content-wrapper {
            position: relative;
            z-index: 10;
        }
        
        .typing-effect {
            border-right: 2px solid #22c55e;
            animation: blink 1s infinite;
        }
        
        @keyframes blink {
            0%,
            50% {
                border-color: transparent;
            }
            51%,
            100% {
                border-color: #22c55e;
            }
        }
        
        .celebration {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1000;
        }
        
        .academic-icon {
            background: linear-gradient(45deg, #3b82f6, #8b5cf6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .brain-animation {
            animation: brainPulse 2s ease-in-out infinite;
        }
        
        @keyframes brainPulse {
            0%,
            100% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.05);
            }
        }
        
        @media (max-width: 768px) {
            .floating {
                animation: none;
            }
        }
    </style>
</head>

<body class="text-gray-900 bg-green-50 dark:bg-gray-900 dark:text-white relative font-sans">
    <canvas id="medicalCanvas" class="fixed inset-0 w-screen h-screen z-0"></canvas>
    <div class="content-wrapper min-h-screen flex flex-col justify-center items-center py-16 px-4">
        <div class="w-full max-w-4xl mx-auto bg-white dark:bg-gray-800 rounded-2xl shadow-2xl p-8 md:p-12">
            <!-- Back to Main Site Button -->
            <div class="w-full flex justify-start mb-4">
                <a href="./index.html" class="secondary-button px-5 py-2 text-sm font-semibold flex items-center gap-2">
                    <svg class="w-4 h-4 mr-1 text-green-600" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7"/></svg> Back to Main Site
                </a>
            </div>

            <!-- Logo and Brand -->
            <div class="flex items-center space-x-3 mb-8">
                <img class="h-8 w-auto sm:h-10" src="../../public/images/logo.png" alt="Prepster Logo">
                <span class="text-3xl font-bold text-green-600" style="font-family: 'Inter', sans-serif;">Prepster</span>
            </div>

            <!-- Main Heading with Typing Effect -->
            <h1 class="text-3xl md:text-5xl font-black leading-tight text-center mb-4">
                Revolutionize Your <span class="gradient-text typing-effect" id="typingText">Study Experience</span>
            </h1>
            <p class="text-lg md:text-xl text-gray-700 dark:text-gray-200 text-center mb-8">
                Join our exclusive beta program and be among the first students to experience AI-powered study tools that adapt to your learning style and accelerate your academic success.
            </p>

            <!-- Enhanced Form -->
            <form id="betaForm" class="space-y-6 max-w-2xl mx-auto">
                <div class="form-field">
                    <label for="name" class="block mb-1 font-medium text-gray-800">Full Name</label>
                    <input type="text" id="name" name="name" required class="w-full px-5 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-400 text-base bg-white dark:bg-gray-900 text-gray-900 dark:text-white">
                </div>
                <div class="form-field">
                    <label for="email" class="block mb-1 font-medium text-gray-800">Email Address</label>
                    <input type="email" id="email" name="email" required class="w-full px-5 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-400 text-base bg-white dark:bg-gray-900 text-gray-900 dark:text-white">
                </div>
                <div class="form-field">
                    <label for="education_level" class="block mb-1 font-medium text-gray-800">Education Level</label>
                    <select id="education_level" name="education_level" required class="w-full px-5 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-400 text-base bg-white dark:bg-gray-900 text-gray-900 dark:text-white">
                        <option value="">Select your education level</option>
                        <option value="high_school">High School</option>
                        <option value="undergraduate">Undergraduate</option>
                        <option value="graduate">Graduate School</option>
                        <option value="professional">Professional/Continuing Education</option>
                    </select>
                </div>
                <div class="form-field">
                    <label for="field_of_study" class="block mb-1 font-medium text-gray-800">Primary Field of Study</label>
                    <select id="field_of_study" name="field_of_study" required class="w-full px-5 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-400 text-base bg-white dark:bg-gray-900 text-gray-900 dark:text-white">
                        <option value="">Select your field of study</option>
                        <option value="stem">STEM (Science, Technology, Engineering, Math)</option>
                        <option value="business">Business & Economics</option>
                        <option value="liberal_arts">Liberal Arts & Humanities</option>
                        <option value="social_sciences">Social Sciences</option>
                        <option value="health">Health Sciences</option>
                        <option value="other">Other</option>
                    </select>
                </div>
                <div class="form-field">
                    <label for="study_challenges" class="block mb-1 font-medium text-gray-800">What are your biggest study challenges? What would you like AI to help you with?</label>
                    <textarea id="study_challenges" name="study_challenges" required rows="4" class="w-full px-5 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-400 text-base bg-white dark:bg-gray-900 text-gray-900 dark:text-white resize-none"></textarea>
                </div>
                <div class="form-field">
                    <label for="current_tools" class="block mb-1 font-medium text-gray-800">Current study tools/apps you use (e.g., Anki, Notion, Quizlet)</label>
                    <input type="text" id="current_tools" name="current_tools" class="w-full px-5 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-400 text-base bg-white dark:bg-gray-900 text-gray-900 dark:text-white">
                </div>
                <div class="form-field">
                    <label for="help" class="block mb-1 font-medium text-gray-800">Why would Prepster help you?</label>
                    <textarea id="help" name="help" required rows="3" class="w-full px-5 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-400 text-base bg-white dark:bg-gray-900 text-gray-900 dark:text-white resize-none"></textarea>
                </div>
                <div class="form-field">
                    <label for="good_fit" class="block mb-1 font-medium text-gray-800">Why do you think you're a good fit?</label>
                    <textarea id="good_fit" name="good_fit" required rows="3" class="w-full px-5 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-400 text-base bg-white dark:bg-gray-900 text-gray-900 dark:text-white resize-none"></textarea>
                </div>
                <div class="form-field">
                    <label for="referral" class="block mb-1 font-medium text-gray-800">How did you hear about us?</label>
                    <input type="text" id="referral" name="referral" class="w-full px-5 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-400 text-base bg-white dark:bg-gray-900 text-gray-900 dark:text-white">
                </div>
                <div class="form-field">
                    <label class="block mb-1 font-medium text-gray-800">Beta testing commitment (hours per week)</label>
                    <div class="grid grid-cols-2 gap-3">
                        <label class="flex items-center space-x-2 cursor-pointer">
                            <input type="radio" name="testing_commitment" value="2-5" required class="accent-green-500">
                            <span>2-5 hours</span>
                        </label>
                        <label class="flex items-center space-x-2 cursor-pointer">
                            <input type="radio" name="testing_commitment" value="6-10" required class="accent-green-500">
                            <span>6-10 hours</span>
                        </label>
                        <label class="flex items-center space-x-2 cursor-pointer">
                            <input type="radio" name="testing_commitment" value="11-15" required class="accent-green-500">
                            <span>11-15 hours</span>
                        </label>
                        <label class="flex items-center space-x-2 cursor-pointer">
                            <input type="radio" name="testing_commitment" value="15+" required class="accent-green-500">
                            <span>15+ hours</span>
                        </label>
                    </div>
                </div>
                <button type="submit" class="w-full bg-green-600 hover:bg-green-700 py-3 rounded-lg font-bold text-lg text-white transition-all">
                    <span id="submitText">Apply for Beta Access</span>
                    <span id="loadingText" class="hidden">Processing Application...</span>
                </button>
            </form>
            <div class="text-center mt-6 space-y-2">
                <p class="text-sm text-gray-400 dark:text-gray-500">Your data is secure. We respect student privacy.</p>
                <p class="text-xs text-gray-300 dark:text-gray-600">By applying, you agree to provide feedback and help improve Prepster AI.</p>
            </div>
            <div id="betaFormMsg" class="text-center mt-6 text-lg font-semibold hidden rounded-lg p-4"></div>
        </div>
    </div>

    <!-- Celebration Canvas -->
    <div class="celebration" id="celebration"></div>

    <!-- Add Supabase JS client import -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script>
        // Floating green particles background (from index.html)
        document.addEventListener("DOMContentLoaded", () => {
            const canvas = document.getElementById("medicalCanvas");
            if (!canvas) return;
            const ctx = canvas.getContext("2d");

            function resizeCanvas() {
                canvas.width = window.innerWidth;
                canvas.height = window.innerHeight;
            }
            window.addEventListener("resize", resizeCanvas);
            resizeCanvas();
            let t = 0;
            let mouseX = 0;
            let mouseY = 0;
            const particles = Array.from({
                length: 160
            }, () => ({
                x: Math.random() * canvas.width,
                y: Math.random() * canvas.height,
                baseR: Math.random() * 2 + 1,
                r: 0,
                dx: (Math.random() - 0.5) * 0.5,
                dy: (Math.random() - 0.5) * 0.5,
            }));

            function drawCells() {
                particles.forEach((p, index) => {
                    const dx = mouseX - p.x;
                    const dy = mouseY - p.y;
                    const dist = Math.sqrt(dx * dx + dy * dy);
                    if (dist < 100) {
                        p.x -= dx * 0.02;
                        p.y -= dy * 0.02;
                    }
                    p.x += p.dx;
                    p.y += p.dy;
                    if (p.x < 0 || p.x > canvas.width) p.dx *= -1;
                    if (p.y < 0 || p.y > canvas.height) p.dy *= -1;
                    const pulse = Math.sin(t * 2 + index) * 0.5 + 1;
                    p.r = p.baseR * pulse;
                    ctx.beginPath();
                    ctx.arc(p.x, p.y, p.r, 0, Math.PI * 2);
                    ctx.fillStyle = "rgba(34,197,94,0.25)";
                    ctx.fill();
                });
            }
            canvas.addEventListener("mousemove", (e) => {
                const rect = canvas.getBoundingClientRect();
                mouseX = e.clientX - rect.left;
                mouseY = e.clientY - rect.top;
            });

            function animate() {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                drawCells();
                t += 0.03;
                requestAnimationFrame(animate);
            }
            animate();
        });

        // Typing effect for main heading
        const phrases = ["Study Experience", "Learning Journey", "Academic Success", "Test Preparation", "Study Efficiency"];
        let phraseIndex = 0;
        let charIndex = 0;
        let isDeleting = false;
        const typingElement = document.getElementById("typingText");

        function typeEffect() {
            const currentPhrase = phrases[phraseIndex];

            if (isDeleting) {
                typingElement.textContent = currentPhrase.substring(0, charIndex - 1);
                charIndex--;
            } else {
                typingElement.textContent = currentPhrase.substring(0, charIndex + 1);
                charIndex++;
            }

            if (!isDeleting && charIndex === currentPhrase.length) {
                setTimeout(() => isDeleting = true, 1200);
            } else if (isDeleting && charIndex === 0) {
                isDeleting = false;
                phraseIndex = (phraseIndex + 1) % phrases.length;
            }

            const typeSpeed = isDeleting ? 40 : 80;
            setTimeout(typeEffect, typeSpeed);
        }
        setTimeout(typeEffect, 1000);

        // Form field value display fix (for radio/checkboxes)
        document.querySelectorAll('input, textarea, select').forEach(el => {
            el.addEventListener('change', function() {
                this.blur();
                this.focus();
            });
        });

        // Supabase form submission for beta testers
        const supabase = window.supabase.createClient(
            'https://dldcwmgyffkzslbmddva.supabase.co',
            'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRsZGN3bWd5ZmZrenNsYm1kZHZhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDgzOTAzODgsImV4cCI6MjA2Mzk2NjM4OH0.dXv57u4pSbWoNioKV45aNpfGMBGS0txZPcWMi3DOLTU'
        );

        document.addEventListener('DOMContentLoaded', () => {
            const form = document.getElementById('betaForm');
            const submitText = document.getElementById('submitText');
            const loadingText = document.getElementById('loadingText');
            const betaFormMsg = document.getElementById('betaFormMsg');

            if (form) {
                form.addEventListener('submit', async(e) => {
                    e.preventDefault();
                    submitText.style.display = 'none';
                    loadingText.style.display = 'inline';
                    betaFormMsg.classList.add('hidden');
                    betaFormMsg.textContent = '';

                    // Collect form data
                    const data = {
                        name: form.elements['name'].value,
                        email: form.elements['email'].value,
                        education_level: form.elements['education_level'].value,
                        field_of_study: form.elements['field_of_study'].value,
                        study_challenges: form.elements['study_challenges'].value,
                        current_tools: form.elements['current_tools'].value,
                        help: form.elements['help'].value,
                        good_fit: form.elements['good_fit'].value,
                        referral: form.elements['referral'].value,
                        testing_commitment: form.elements['testing_commitment'].value
                    };

                    try {
                        const {
                            error
                        } = await supabase
                            .from('beta-testing')
                            .insert([data]);
                        if (error) {
                            throw error;
                        }
                        form.reset();
                        betaFormMsg.textContent = 'Thank you for applying! We appreciate your interest.';
                        betaFormMsg.classList.remove('hidden');
                        betaFormMsg.classList.add('bg-green-100', 'text-green-800');
                    } catch (err) {
                        betaFormMsg.textContent = 'There was an error submitting your application. Please try again.';
                        betaFormMsg.classList.remove('hidden');
                        betaFormMsg.classList.add('bg-red-100', 'text-red-800');
                    } finally {
                        submitText.style.display = 'inline';
                        loadingText.style.display = 'none';
                    }
                });
            }
        });
    </script>
</body>

</html>